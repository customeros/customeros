extend type Mutation {
    conversation_Create(input: ConversationInput!): Conversation!
    conversationAddMessage(input: MessageInput!): Message!
}

type Conversation implements Node {
    id: ID!
    startedAt: Time!
    endedAt: Time
    status: ConversationStatus!
    channel: String
    itemCount: Int64!
    contacts: [Contact!] @goField(forceResolver: true)
    users: [User!] @goField(forceResolver: true)
}

input ConversationInput {
    id: ID
    startedAt: Time
    status: ConversationStatus! = ACTIVE
    userIds: [ID!]
    contactIds: [ID!]
    channel: String
}

input ConversationUpdateInput {
    id: ID!
    userIds: [ID!]
    contactId: [ID!]
    status: ConversationStatus
    channel: String
    skipItemIncrement: Boolean = false
}

type ConversationPage implements Pages {
    content: [Conversation!]!
    totalPages: Int!
    totalElements: Int64!
}

enum ConversationStatus {
    ACTIVE
    CLOSED
}

type Message implements Node {
    id: ID!
    channel: MessageChannel!
    startedAt: Time!
    conversationId: ID!
}

input MessageInput {
    id: ID!
    conversationId: ID!
    channel: MessageChannel!
    startedAt: Time
}

enum MessageChannel {
    VOICE
    MAIL
    CHAT
    WHATSAPP
    FACEBOOK
    TWITTER
}