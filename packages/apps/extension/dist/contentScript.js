function i(){const n=indexedDB.open("customerDB",2);n.onerror=function(t){var e;console.error("Error opening IndexedDB:",(e=t.target)==null?void 0:e.error)},n.onsuccess=function(t){const a=t.target.result.transaction(["customer_os"],"readonly").objectStore("customer_os").get("SessionStore");a.onerror=function(s){var o;console.error("Error reading from IndexedDB:",(o=s.target)==null?void 0:o.error)},a.onsuccess=function(s){const o=s.target.result;if(o){const r=o.value.profile.email||null,c=o.tenantApiKey||null;r&&c?chrome.runtime.sendMessage({action:"COS_SESSION_DATA",email:r,apiKey:c}):console.log("Session data is incomplete:",{email:r,apiKey:c})}else console.log("No session data found in IndexedDB")}},n.onupgradeneeded=function(t){const e=t.target.result;e.objectStoreNames.contains("customer_os")||e.createObjectStore("customer_os")}}i();
